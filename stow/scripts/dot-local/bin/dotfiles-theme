#!/usr/bin/env bash
# shellcheck disable=2034
font=${1:-"FiraCode Nerd Font 12"}
themes="$(wal --theme)"
light="$(echo "$themes" | tail +"$(echo "$themes" | rg -n "Light" | cut -d : -f 1)" | rg "^ -" | rg -v random | sed -e "s/^ - //" | sort | uniq)"
choice="$(echo "$themes" | rg "^ -" | rg -v random | sed -e "s/^ - //" | sort | uniq | \
rofi \
-match fuzzy \
-no-fixed-num-lines \
-dmenu \
-i \
-font "$font" \
-p "Unicode Cheatsheet: " \
"-location" \
"1" \
"-theme-str" \
"window { width: 100%; }")"
if [ "$choice" != "" ]; then
	if [ "$(echo "$light" | grep -c "$choice")" -eq 0 ]; then
		python3 ~/dotfiles/scripts/wal/custom_wal.py --theme "$choice" > /dev/null
	else
		python3 ~/dotfiles/scripts/wal/custom_wal.py --theme "$choice" -l > /dev/null
	fi
fi
# vim:ft=sh
